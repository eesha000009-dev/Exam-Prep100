<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mock Exams - Prep100</title>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-slate-50 text-slate-800">
    <div class="min-h-screen flex">
      <!-- Sidebar -->
  <aside id="sidebar" class="w-72 fixed left-0 top-0 h-full bg-white border-r border-slate-200 p-5 flex flex-col gap-6 transition-transform duration-200 overflow-auto z-40">
        <div class="flex items-center gap-3">
          <img src="/assets/images/logo.png" alt="logo" class="h-12 w-12 rounded-full shadow-sm">
          <div>
            <div class="text-lg font-bold text-sky-700">JUANOVA CORTEX</div>
            <div class="text-xs text-slate-500">Student Dashboard</div>
          </div>
        </div>

        <nav class="flex-1 overflow-auto">
          <ul class="space-y-1">
            <li><a href="student-dashboard.html" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50"><i class="fas fa-home text-sky-600"></i> Home</a></li>
            <li><a href="news-feed-gemini.html" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50"><i class="fas fa-newspaper text-pink-500"></i> News Feed</a></li>
            <li><a href="ai-tutor-chatbot.html" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50"><i class="fas fa-robot text-purple-500"></i> AI Tutor</a></li>
            <li><a href="study-plan.html" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50"><i class="fas fa-calendar-check text-green-500"></i> Study Plan</a></li>
           <li><a href="all-formula.html" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50"><i class="fas fa-book-open text-teal-600"></i> All Formula</a></li>
            <li><a href="video-library.html" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50"><i class="fas fa-video text-red-500"></i> Video Library</a></li>
            <li><a href="mock-exams.html" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50"><i class="fas fa-pencil-alt text-orange-500"></i> Mock Exams</a></li>
            <li><a href="notifications.html" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50"><i class="fas fa-bell text-pink-600"></i> Notifications</a></li>
            <li><a href="student-live-session.html" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50"><i class="fas fa-chalkboard-teacher text-blue-400"></i> Live Sessions</a></li>
            <li><a href="smart-note.html" class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-50"><i class="fas fa-sticky-note text-yellow-500"></i> Smart Notes</a></li>
          </ul>
        </nav>

        <div class="text-sm text-slate-500">
          <div class="mb-2">Account</div>
          <div class="flex items-center gap-3">
            <img id="avatar-sm" src="../assets/images/unnamed.jpg" alt="avatar" class="h-10 w-10 rounded-full border">
            <div>
              <div id="userName" class="font-semibold">Student</div>
              <div id="userLevel" class="text-xs text-slate-400"></div>
            </div>
          </div>
        </div>
      </aside>

      <div class="flex-1 flex flex-col ml-72">
        <!-- Top Bar (canonical) -->
        <header class="flex items-center justify-between p-4 bg-white border-b border-slate-200">
          <div class="flex items-center gap-3">
            <button id="toggleSidebar" class="p-2 rounded-md hover:bg-slate-100" title="Toggle sidebar"><i class="fas fa-bars"></i></button>
            <div class="relative">
              <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"></i>
              <input type="search" placeholder="Search mock exams, subjects, or topics..." class="w-[520px] hidden md:inline-block pl-10 pr-4 py-2 rounded-full border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-sky-100">
            </div>
          </div>

          <div class="flex items-center gap-4">
            <div class="relative">
              <button id="notifBtn" class="p-2 rounded-full hover:bg-slate-50" aria-label="Notifications"><i class="fas fa-bell text-sky-600"></i></button>
              <span id="notifCount" class="absolute -top-1 -right-1 bg-pink-500 text-white rounded-full w-5 h-5 text-xs flex items-center justify-center">0</span>
            </div>
            <div class="flex items-center gap-3">
              <div class="text-right mr-2">
                <div id="topName" class="font-semibold">Student Name</div>
                <div id="topLevel" class="text-xs text-slate-400">SS 3</div>
              </div>
              <img id="topAvatar" src="../assets/images/unnamed.jpg" alt="avatar" class="h-10 w-10 rounded-full border-2">
            </div>
          </div>
  </header>

  <main class="p-6 space-y-6">
  <!-- Welcome Banner -->
  <div class="rounded-3xl bg-gradient-to-r from-blue-600 to-blue-400 text-white p-8 shadow-xl mb-8">
          <div class="max-w-xl">
            <h1 class="text-3xl font-extrabold mb-2">Mock Exams</h1>
            <p class="text-blue-100 mb-4">Timed mock exams designed to simulate the real test environment. Track your progress and improve with each attempt.</p>
            <div class="flex gap-3">
              <button class="border border-white text-white px-5 py-2 rounded-full font-semibold hover:bg-white hover:text-blue-600 transition">Start a Full Mock</button>
              <button class="bg-white text-blue-600 px-5 py-2 rounded-full font-semibold hover:bg-gray-50 transition">Browse Topics</button>
            </div>
          </div>
        </div>

        <!-- Mock exams list -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <div class="bg-white rounded-2xl p-6 shadow hover:shadow-lg transition">
            <div class="flex items-start justify-between">
              <div>
                <h3 class="text-xl font-bold text-gray-800">Mathematics</h3>
                <p class="text-sm text-gray-500 mt-1">25 questions — 60 minutes</p>
                <div class="mt-4 flex items-center gap-2">
                  <span class="text-xs bg-blue-100 text-blue-700 px-3 py-1 rounded-full">WAEC</span>
                  <span class="text-xs bg-gray-100 text-gray-700 px-3 py-1 rounded-full">Topic: Algebra</span>
                </div>
              </div>
              <div class="flex flex-col items-end gap-3">
                <div class="text-sm text-gray-500">Avg score</div>
                <div class="text-2xl font-bold text-blue-600">72%</div>
              </div>
            </div>
            <div class="mt-6 flex items-center justify-between">
              <button class="px-4 py-2 bg-blue-600 text-white rounded-lg">Start</button>
              <button class="px-3 py-2 text-sm text-gray-600 hover:text-gray-800">View details</button>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-6 shadow hover:shadow-lg transition">
            <div class="flex items-start justify-between">
              <div>
                <h3 class="text-xl font-bold text-gray-800">Biology</h3>
                <p class="text-sm text-gray-500 mt-1">20 questions — 50 minutes</p>
                <div class="mt-4 flex items-center gap-2">
                  <span class="text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full">WAEC</span>
                  <span class="text-xs bg-gray-100 text-gray-700 px-3 py-1 rounded-full">Topic: Cells</span>
                </div>
              </div>
              <div class="flex flex-col items-end gap-3">
                <div class="text-sm text-gray-500">Avg score</div>
                <div class="text-2xl font-bold text-green-600">68%</div>
              </div>
            </div>
            <div class="mt-6 flex items-center justify-between">
              <button class="px-4 py-2 bg-green-600 text-white rounded-lg">Start</button>
              <button class="px-3 py-2 text-sm text-gray-600 hover:text-gray-800">View details</button>
            </div>
          </div>

          <div class="bg-white rounded-2xl p-6 shadow hover:shadow-lg transition">
            <div class="flex items-start justify-between">
              <div>
                <h3 class="text-xl font-bold text-gray-800">Chemistry</h3>
                <p class="text-sm text-gray-500 mt-1">22 questions — 55 minutes</p>
                <div class="mt-4 flex items-center gap-2">
                  <span class="text-xs bg-pink-100 text-pink-700 px-3 py-1 rounded-full">WAEC</span>
                  <span class="text-xs bg-gray-100 text-gray-700 px-3 py-1 rounded-full">Topic: Stoichiometry</span>
                </div>
              </div>
              <div class="flex flex-col items-end gap-3">
                <div class="text-sm text-gray-500">Avg score</div>
                <div class="text-2xl font-bold text-pink-600">71%</div>
              </div>
            </div>
            <div class="mt-6 flex items-center justify-between">
              <button class="px-4 py-2 bg-pink-600 text-white rounded-lg">Start</button>
              <button class="px-3 py-2 text-sm text-gray-600 hover:text-gray-800">View details</button>
            </div>
          </div>

          <!-- More mock exam cards can be added here -->
        </div>
      </main>
    </div>
  </body>
</html>
<script type="module">
  // Personalize page using centralized helper
  import('./js/firebase-user-helper.js').then(({ initUserPersonalization }) => {
    initUserPersonalization(async ({ user, helpers }) => {
      if (!user) return;
      const fullName = user.displayName || 'Student';
      const name = fullName.split(' ')[0];
      const heading = document.querySelector('h1');
      if (heading) heading.textContent = `${name}'s Mock Exams`;
      const topName = document.getElementById('topName'); if (topName) topName.textContent = fullName;
      const userName = document.getElementById('userName'); if (userName) userName.textContent = fullName;
      const userLevel = document.getElementById('userLevel');
      if (userLevel) {
        const l = (user && user.profile && user.profile.level) ? user.profile.level : '';
        userLevel.textContent = l && String(l).startsWith('SS') ? l : (l ? 'SS 3' : '');
      }
      const img = document.querySelector('img[alt="User"]');
      if (img) {
        if (user.photoURL) img.src = user.photoURL;
        else if (helpers && helpers.initialsFromName) img.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(helpers.initialsFromName(fullName))}&background=2563eb&color=fff&length=2`;
      }
      const notifEl = document.getElementById('notifCount'); if (notifEl && helpers && helpers.getUnreadNotificationsCount) notifEl.textContent = String(await helpers.getUnreadNotificationsCount(user.uid));
    });
  }).catch(e => console.warn('firebase-user helper import failed', e));

  // Ensure sidebar toggle works
  (function ensureSidebarToggle(){ try{ const b=document.getElementById('toggleSidebar'); if(b && !b.dataset.hasToggle){ b.addEventListener('click', ()=> document.getElementById('sidebar').classList.toggle('-translate-x-full')); b.dataset.hasToggle='1'; } }catch(e){} })();
</script>
